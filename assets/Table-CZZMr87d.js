import{r as m,j as t,o as g,p as S,q as w,s as F}from"./index-D8V0tws4.js";const N=h=>{const{name:x,id:u,className:l,checked:r,defaultCheck:f=!1,onCheck:i}=h,[n,o]=m.useState(r!==void 0?r:f),a=m.useRef(null),p=()=>{let d=!n;typeof i=="function"&&i(d),r===void 0&&(o(d),a.current&&(a.current.checked=d))};return m.useEffect(()=>{r!==void 0&&r!==n&&(o(r),a.current&&(a.current.checked=r))},[r,n]),t.jsxs(t.Fragment,{children:[t.jsx("input",{ref:a,type:"hidden",name:x,id:u,value:"true"}),t.jsx("span",{onClick:p,className:`cursor-pointer mx-auto aspect-square rounded-xs w-4 border ${n?"border-accent":"border-base-line"} flex items-center justify-center ${l}`,children:n?t.jsx(g,{className:"text-xs text-accent"}):""})]})},E=h=>{const{headers:x,selectable:u=!0,data:l=[],className:r="",spacing:f="p-2",onSelect:i,onSort:n}=h,[o,a]=m.useState([]),p=e=>{let s=[...o];s.indexOf(e)>=0&&b(s.filter(c=>e!=c))},d=e=>{const s=[...o];s.indexOf(e)<0&&s.push(e),b(s)},C=e=>{const s=[];if(e)for(let c=0;c<l.length;c++)s.push(c);b(s)},b=e=>{a(e),typeof i=="function"&&(e.length>0?i(l.filter((s,c)=>e.indexOf(c)>=0),e):i([]))},k=e=>{typeof n=="function"&&n(e)};return m.useEffect(()=>{a([])},[l]),t.jsx("div",{className:"table-wrapper relative max-h-full overflow-y-auto py-0",children:t.jsxs("table",{className:`table break-all table-fixed w-full rounded-sm bg-box-base ${r}`,children:[t.jsx("thead",{className:"sticky top-0 bg-box-base border-b border-base-line",children:t.jsxs("tr",{children:[u&&t.jsx("th",{className:"align-middle w-6 px-2",children:t.jsx(N,{onCheck:e=>C(e),checked:o.length===l.length})}),x.map((e,s)=>t.jsx("th",{className:`table--heading ${f} text-left text-sm font-medium border-b border-base-line ${e.className||""}`,children:t.jsxs("span",{className:"flex items-center",children:[e.label,e.order&&t.jsxs(t.Fragment,{children:[!e.orderDirection&&t.jsx(S,{onClick:()=>k(e.key),className:"inline cursor-pointer text-[1em] md:text-[calc(1em/1.618)] ml-1 hover:text-accent"}),e.orderDirection==="asc"&&t.jsx(w,{onClick:()=>k(e.key),className:"inline cursor-pointer text-[1em] md:text-[calc(1em/1.618)] ml-1 hover:text-accent"}),e.orderDirection==="desc"&&t.jsx(F,{onClick:()=>k(e.key),className:"inline cursor-pointer text-[1em] md:text-[calc(1em/1.618)] ml-1 hover:text-accent"})]})]})},`table--head-${e.key}-${s}`))]})}),t.jsx("tbody",{className:"table--row text-sm",children:l.map((e,s)=>t.jsxs("tr",{children:[u&&t.jsx("td",{children:t.jsx(N,{onCheck:c=>{c?d(s):p(s)},checked:o.indexOf(s)>=0})}),x.map((c,v)=>{var y;const j=(y=e.filter($=>$.key===c.key))==null?void 0:y[0];return t.jsx("td",{className:`${f}`,children:j?j.value:""},`col-data-${s}-${c.key}-${v}`)})]},`row-data-${s}`))})]})})};export{E as T};
